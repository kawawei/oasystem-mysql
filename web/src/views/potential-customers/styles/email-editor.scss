// 使用全局樣式來設置模態框的位置和外觀
.base-modal {
  .modal-wrapper {
    position: fixed !important;
    right: 20px !important;
    bottom: 0 !important;
    margin: 0 !important;
    height: 600px !important;
    border-radius: 8px 8px 0 0 !important;
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.15) !important;
  }

  .modal-header {
    padding: 12px 20px !important;
    margin: 0 !important;
    border-bottom: 1px solid #dcdfe6 !important;

    .modal-title {
      font-size: 14px !important;
      font-weight: 500 !important;
    }

    .close-btn {
      top: 12px !important;
    }
  }

  .modal-body {
    padding: 16px !important;
    height: calc(100% - 100px) !important;
    overflow-y: auto !important;
  }

  .modal-footer {
    padding: 12px 20px !important;
    border-top: 1px solid #dcdfe6 !important;
  }
}

// 郵件編輯器樣式
.email-form {
  height: 100%;
  display: flex;
  flex-direction: column;
  
  .form-item {
    margin-bottom: 16px;
    
    label {
      display: inline-block;
      width: 70px;
      color: #606266;
      margin-right: 8px;
      line-height: 32px;
      white-space: nowrap;
    }

    &.content {
      flex: 1;
      margin-bottom: 0;
      min-height: 300px;
      
      :deep(.quill-editor) {
        height: 100%;
        min-height: 300px;
        border: 1px solid #dcdfe6;
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        
        .ql-toolbar {
          border-top: none;
          border-left: none;
          border-right: none;
          border-bottom: 1px solid #dcdfe6;
          padding: 8px;
          flex-shrink: 0;
        }
        
        .ql-container {
          flex: 1;
          height: auto;
          border: none;
          display: flex;
          flex-direction: column;
        }

        .ql-editor {
          flex: 1;
          min-height: 250px;
          padding: 12px;
          background-color: #fff;
          height: 100%;
        }
      }
    }
  }
}

// 附件列表樣式
.attachments {
  margin-top: 16px;
  border-top: 1px solid #dcdfe6;
  padding-top: 12px;

  .attachment-item {
    display: flex;
    align-items: center;
    padding: 8px;
    background: #f5f7fa;
    border-radius: 4px;
    margin-bottom: 8px;

    &:last-child {
      margin-bottom: 0;
    }

    .filename {
      flex: 1;
      margin-right: 12px;
      color: #606266;
      font-size: 14px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .size {
      margin-right: 12px;
      color: #909399;
      font-size: 12px;
    }
  }
}

// 底部按鈕樣式
.dialog-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

// Quill 編輯器樣式覆蓋
:deep(.ql-snow .ql-toolbar) {
  padding: 8px;
}

:deep(.ql-container.ql-snow) {
  background-color: #fff;
}

// 自定義附件按鈕圖標
button.ql-attachment {
  position: relative;
  width: 28px;
  height: 24px;
  margin-left: 0 !important;
  
  &::before {
    content: '';
    position: absolute;
    left: 35%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 18px;
    height: 18px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23444444' stroke-width='1' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
  }

  &:hover::before {
    opacity: 0.7;
  }
}

// 移除 Quill 默認的按鈕圖標
.ql-attachment .ql-stroke {
  display: none !important;
}

// 工具欄按鈕統一樣式
.ql-toolbar.ql-snow {
  .ql-formats {
    button {
      padding: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 28px;
      height: 24px;
    }
  }
} 