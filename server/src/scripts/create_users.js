const bcrypt = require("bcryptjs"); const mysql = require("mysql2"); async function createUsers() { const salt = await bcrypt.genSalt(10); const hashedPassword = await bcrypt.hash("123456", salt); const connection = mysql.createConnection({ host: "mysql-dev", user: "root", password: "root", database: "oa_system_dev" }); const sql = `INSERT INTO users (username, name, password, role, status, created_at, updated_at) VALUES ("admin", "系統管理員", ?, "admin", "active", NOW(), NOW()), ("user1", "測試用戶", ?, "user", "active", NOW(), NOW())`; connection.query(sql, [hashedPassword, hashedPassword], (error, results) => { if (error) { console.error("Error creating users:", error); } else { console.log("Users created successfully"); } connection.end(); }); } createUsers();
